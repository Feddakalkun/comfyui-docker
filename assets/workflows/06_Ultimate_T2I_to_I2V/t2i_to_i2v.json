{
  "last_node_id": 40,
  "last_link_id": 40,
  "nodes": [
    {
      "id": 1,
      "type": "HuggingFaceDownloader",
      "pos": [50, 50],
      "size": { "0": 500, "1": 300 },
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "Node name for S&R": "HuggingFaceDownloader"
      },
      "widgets_values": [
        "https://huggingface.co/alexgenovese/reica_models/resolve/021e192bd744c48a85f8ae1832662e77beb9aac7/realvisxlV40_v40LightningBakedvae.safetensors checkpoints realvisxlV40_v40LightningBakedvae.safetensors\nhttps://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/diffusion_models/wan2.1_i2v_480p_14B_fp8_e4m3fn.safetensors diffusion_models wan2.1_i2v_480p_14B_fp8_e4m3fn.safetensors\nhttps://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/clip_vision/clip_vision_h.safetensors clip_vision clip_vision_h.safetensors\nhttps://huggingface.co/Wan-AI/Wan2.1-T2V-1.3B/resolve/main/Wan2.1_VAE.safetensors vae Wan2.1_VAE.safetensors\nhttps://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors text_encoders umt5_xxl_fp8_e4m3fn_scaled.safetensors",
        true,
        3,
        0.0,
        true,
        false,
        true,
        false,
        ""
      ]
    },
    {
      "id": 31,
      "type": "Efficient Loader",
      "pos": [50, 400],
      "size": { "0": 400, "1": 400 },
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        { "name": "lora_stack", "type": "LORA_STACK", "link": 35 }
      ],
      "outputs": [
        { "name": "MODEL", "type": "MODEL", "links": [31], "slot_index": 0 },
        { "name": "CONDITIONING+", "type": "CONDITIONING", "links": [32], "slot_index": 1 },
        { "name": "CONDITIONING-", "type": "CONDITIONING", "links": [33], "slot_index": 2 },
        { "name": "LATENT", "type": "LATENT", "links": [34], "slot_index": 3 },
        { "name": "VAE", "type": "VAE", "links": [36], "slot_index": 4 },
        { "name": "CLIP", "type": "CLIP", "links": [], "slot_index": 5 },
        { "name": "DEPENDENCIES", "type": "DEPENDENCIES", "links": [], "slot_index": 6 }
      ],
      "properties": {
        "Node name for S&R": "Efficient Loader"
      },
      "widgets_values": [
        "realvisxlV40_v40LightningBakedvae.safetensors",
        "Wan2.1_VAE.safetensors",
        1,
        "cinematic shot, 4k, highly detailed, photorealistic, cyberpunk city street, rain, neon lights, reflection",
        "blur, low quality, watermark, text, bad anatomy, distortion",
        1152,
        648,
        1,
        "None"
      ]
    },
    {
      "id": 32,
      "type": "LoRA Stack",
      "pos": [50, 850],
      "size": { "0": 400, "1": 200 },
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        { "name": "lora_stack", "type": "LORA_STACK", "link": null }
      ],
      "outputs": [
        { "name": "LORA_STACK", "type": "LORA_STACK", "links": [35], "slot_index": 0 }
      ],
      "properties": {
        "Node name for S&R": "LoRA Stack"
      },
      "widgets_values": [
        "None", 1.0, 1.0,
        "None", 1.0, 1.0,
        "None", 1.0, 1.0
      ]
    },
    {
      "id": 33,
      "type": "KSampler (Efficient)",
      "pos": [500, 400],
      "size": { "0": 400, "1": 400 },
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        { "name": "model", "type": "MODEL", "link": 31 },
        { "name": "positive", "type": "CONDITIONING", "link": 32 },
        { "name": "negative", "type": "CONDITIONING", "link": 33 },
        { "name": "latent_image", "type": "LATENT", "link": 34 },
        { "name": "optional_vae", "type": "VAE", "link": 36 },
        { "name": "script", "type": "SCRIPT", "link": null }
      ],
      "outputs": [
        { "name": "MODEL", "type": "MODEL", "links": [], "slot_index": 0 },
        { "name": "CONDITIONING+", "type": "CONDITIONING", "links": [], "slot_index": 1 },
        { "name": "CONDITIONING-", "type": "CONDITIONING", "links": [], "slot_index": 2 },
        { "name": "LATENT", "type": "LATENT", "links": [17], "slot_index": 3 },
        { "name": "VAE", "type": "VAE", "links": [37], "slot_index": 4 },
        { "name": "IMAGE", "type": "IMAGE", "links": [18, 25], "slot_index": 5 }
      ],
      "properties": {
        "Node name for S&R": "KSampler (Efficient)"
      },
      "widgets_values": [
        12345,
        "fixed",
        6,
        2.0,
        "dpmpp_sde",
        "karras",
        1.0,
        "True"
      ]
    },
    {
      "id": 16,
      "type": "PreviewImage",
      "pos": [950, 400],
      "size": { "0": 315, "1": 270 },
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        { "name": "images", "type": "IMAGE", "link": 18 }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 20,
      "type": "WanVideoModelLoader",
      "pos": [50, 1100],
      "size": { "0": 315, "1": 150 },
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        { "name": "model", "type": "WANVIDEOMODEL", "links": [20], "slot_index": 0 }
      ],
      "properties": {
        "Node name for S&R": "WanVideoModelLoader"
      },
      "widgets_values": [
        "wan2.1_i2v_480p_14B_fp8_e4m3fn.safetensors",
        "fp8_e4m3fn",
        "disabled",
        "offload_device"
      ]
    },
    {
      "id": 21,
      "type": "WanVideoVAELoader",
      "pos": [50, 1300],
      "size": { "0": 315, "1": 80 },
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        { "name": "vae", "type": "WANVAE", "links": [21, 28], "slot_index": 0 }
      ],
      "properties": {
        "Node name for S&R": "WanVideoVAELoader"
      },
      "widgets_values": [
        "Wan2.1_VAE.safetensors",
        "bf16"
      ]
    },
    {
      "id": 22,
      "type": "LoadWanVideoT5TextEncoder",
      "pos": [50, 1450],
      "size": { "0": 315, "1": 100 },
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        { "name": "wan_t5_model", "type": "WANTEXTENCODER", "links": [22], "slot_index": 0 }
      ],
      "properties": {
        "Node name for S&R": "LoadWanVideoT5TextEncoder"
      },
      "widgets_values": [
        "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
        "fp8_e4m3fn",
        "offload_device"
      ]
    },
    {
      "id": 23,
      "type": "LoadWanVideoClipTextEncoder",
      "pos": [50, 1600],
      "size": { "0": 315, "1": 100 },
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        { "name": "wan_clip_vision", "type": "CLIP_VISION", "links": [23], "slot_index": 0 }
      ],
      "properties": {
        "Node name for S&R": "LoadWanVideoClipTextEncoder"
      },
      "widgets_values": [
        "clip_vision_h.safetensors",
        "fp16",
        "offload_device"
      ]
    },
    {
      "id": 24,
      "type": "WanVideoClipVisionEncode",
      "pos": [400, 1100],
      "size": { "0": 315, "1": 200 },
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        { "name": "clip_vision", "type": "CLIP_VISION", "link": 23 },
        { "name": "image_1", "type": "IMAGE", "link": 25 }
      ],
      "outputs": [
        { "name": "image_embeds", "type": "WANVIDIMAGE_CLIPEMBEDS", "links": [24], "slot_index": 0 }
      ],
      "properties": {
        "Node name for S&R": "WanVideoClipVisionEncode"
      },
      "widgets_values": [
        1.0,
        1.0,
        "center",
        "average",
        true
      ]
    },
    {
      "id": 25,
      "type": "WanVideoImageToVideoEncode",
      "pos": [400, 1350],
      "size": { "0": 315, "1": 300 },
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        { "name": "vae", "type": "WANVAE", "link": 21 },
        { "name": "clip_embeds", "type": "WANVIDIMAGE_CLIPEMBEDS", "link": 24 },
        { "name": "start_image", "type": "IMAGE", "link": 25 }
      ],
      "outputs": [
        { "name": "image_embeds", "type": "WANVIDIMAGE_EMBEDS", "links": [26], "slot_index": 0 }
      ],
      "properties": {
        "Node name for S&R": "WanVideoImageToVideoEncode"
      },
      "widgets_values": [
        832,
        480,
        81,
        0.0,
        1.0,
        1.0,
        true
      ]
    },
    {
      "id": 26,
      "type": "WanVideoTextEncode",
      "pos": [750, 1100],
      "size": { "0": 400, "1": 200 },
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        { "name": "t5", "type": "WANTEXTENCODER", "link": 22 }
      ],
      "outputs": [
        { "name": "text_embeds", "type": "WANVIDEOTEXTEMBEDS", "links": [27], "slot_index": 0 }
      ],
      "properties": {
        "Node name for S&R": "WanVideoTextEncode"
      },
      "widgets_values": [
        "A cinematic shot of a cyberpunk city, rain, neon lights, 4k, highly detailed, photorealistic, motion",
        "blur, low quality, watermark, text, bad anatomy, distortion, static",
        true,
        null,
        false,
        "gpu"
      ]
    },
    {
      "id": 27,
      "type": "WanVideoSampler",
      "pos": [1200, 1100],
      "size": { "0": 350, "1": 300 },
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        { "name": "model", "type": "WANVIDEOMODEL", "link": 20 },
        { "name": "image_embeds", "type": "WANVIDIMAGE_EMBEDS", "link": 26 },
        { "name": "text_embeds", "type": "WANVIDEOTEXTEMBEDS", "link": 27 }
      ],
      "outputs": [
        { "name": "samples", "type": "LATENT", "links": [29], "slot_index": 0 }
      ],
      "properties": {
        "Node name for S&R": "WanVideoSampler"
      },
      "widgets_values": [
        30,
        6.0,
        5.0,
        12345,
        true,
        "unipc",
        0
      ]
    },
    {
      "id": 28,
      "type": "VAEDecode",
      "pos": [1600, 1100],
      "size": { "0": 210, "1": 46 },
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        { "name": "samples", "type": "LATENT", "link": 29 },
        { "name": "vae", "type": "VAE", "link": 28 }
      ],
      "outputs": [
        { "name": "IMAGE", "type": "IMAGE", "links": [30], "slot_index": 0 }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 29,
      "type": "VHS_VideoCombine",
      "pos": [1850, 1100],
      "size": { "0": 315, "1": 250 },
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        { "name": "images", "type": "IMAGE", "link": 30 }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": [
        {
          "frame_rate": 16,
          "loop_count": 0,
          "filename_prefix": "Wan2.1_T2I2V",
          "format": "video/h264-mp4",
          "pix_fmt": "yuv420p",
          "crf": 19,
          "save_metadata": true,
          "pingpong": false,
          "save_output": true
        }
      ]
    }
  ],
  "links": [
    [17, 33, 3, 15, 0, "LATENT"],
    [18, 33, 5, 16, 0, "IMAGE"],
    [20, 20, 0, 27, 0, "WANVIDEOMODEL"],
    [21, 21, 0, 25, 0, "WANVAE"],
    [22, 22, 0, 26, 0, "WANTEXTENCODER"],
    [23, 23, 0, 24, 0, "CLIP_VISION"],
    [24, 24, 0, 25, 1, "WANVIDIMAGE_CLIPEMBEDS"],
    [25, 33, 5, 24, 1, "IMAGE"],
    [26, 25, 0, 27, 1, "WANVIDIMAGE_EMBEDS"],
    [27, 26, 0, 27, 2, "WANVIDEOTEXTEMBEDS"],
    [28, 21, 0, 28, 1, "VAE"],
    [29, 27, 0, 28, 0, "LATENT"],
    [30, 28, 0, 29, 0, "IMAGE"],
    [31, 31, 0, 33, 0, "MODEL"],
    [32, 31, 1, 33, 1, "CONDITIONING"],
    [33, 31, 2, 33, 2, "CONDITIONING"],
    [34, 31, 3, 33, 3, "LATENT"],
    [35, 32, 0, 31, 0, "LORA_STACK"],
    [36, 31, 4, 33, 4, "VAE"],
    [37, 33, 4, 15, 1, "VAE"]
  ],
  "groups": [],
  "config": {},
  "extra": {},
  "version": 0.4
}